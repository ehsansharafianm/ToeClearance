<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fillViewport="true">

    <RelativeLayout
        android:id="@+id/labeling_data_root"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="#FFFFFF">

        <TextView
            android:id="@+id/imu1BiasTitle"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1WindowTitle"
            android:layout_marginLeft="20dp"
            android:layout_marginTop="21dp"
            android:text="Bias Value:"
            android:textSize="15sp" />

        <TextView
            android:id="@+id/topLine"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"
            android:text="_______________________________________________________" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="   "
            android:textSize="2dp"
            android:layout_centerHorizontal="true"
            android:layout_below="@+id/topLine"
            android:id="@+id/connectionStatusSpace"/>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Connection Status"
            android:textSize="20dp"
            android:layout_centerHorizontal="true"
            android:layout_below="@+id/connectionStatusSpace"
            android:id="@+id/connectionStatus"/>

        <EditText
            android:id="@+id/enterSubjectNumber"
            android:layout_width="130dp"
            android:layout_height="30dp"
            android:inputType="number"
            android:layout_centerHorizontal="true"
            android:textAlignment="center"
            android:layout_below="@id/connectionStatus"
            android:background="#FFFFFF"
            android:hint="Enter Number"
            android:textColorHint="#959595"
            android:textColor="@color/black"/>

        <Button
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:id="@+id/scanButton"
            android:layout_below="@id/enterSubjectNumber"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:layout_marginRight="20dp"
            android:text="Start Scan"
            android:onClick="scanButton_onClick"
            android:backgroundTint="#4CAF50"/>

        <Button
            android:id="@+id/homeButton"
            android:layout_width="75dp"
            android:layout_height="wrap_content"
            android:layout_marginRight="120dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:layout_below="@id/connectionStatusSpace"
            android:backgroundTint="#717070"
            android:onClick="homeButton_onClick"
            android:textSize="10dp"
            android:textStyle="bold"
            android:text="Home" />

        <Button
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:id="@+id/syncButton"
            android:layout_below="@id/enterSubjectNumber"
            android:layout_toRightOf="@+id/connectionStatusSpace"
            android:layout_marginLeft="20dp"
            android:text="Start Sync"
            android:onClick="syncButton_onClick"
            android:backgroundTint="#4CAF50"/>

        <!-- IMU1 Section (Left Side) -->
        <TextView
            android:id="@+id/imu1StatusTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/scanButton"
            android:layout_toLeftOf="@+id/imu1Status"
            android:text="IMU1:"/>

        <TextView
            android:id="@+id/imu1Status"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/scanButton"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="Disconnected"/>

        <TextView
            android:id="@+id/imu1RollTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1StatusTitle"
            android:layout_toLeftOf="@+id/imu1Roll"
            android:text="Roll Angle:"/>

        <TextView
            android:id="@+id/imu1Roll"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:background="@drawable/rectangle"
            android:layout_below="@+id/imu1Status"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="0.0"/>

        <TextView
            android:id="@+id/imu1GyroTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1RollTitle"
            android:layout_toLeftOf="@+id/imu1Gyro"
            android:text="Gyro Mag:"/>

        <TextView
            android:id="@+id/imu1Gyro"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:background="@drawable/rectangle"
            android:layout_below="@+id/imu1Roll"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="0.0"/>

        <TextView
            android:id="@+id/imu1AccelTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1GyroTitle"
            android:layout_toLeftOf="@+id/imu1Accel"
            android:text="Lin Accel:"/>

        <TextView
            android:id="@+id/imu1Accel"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:background="@drawable/rectangle"
            android:layout_below="@+id/imu1Gyro"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="0.0"/>

        <TextView
            android:id="@+id/imu1IndexTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1AccelTitle"
            android:layout_toLeftOf="@+id/imu1Index"
            android:text="Index:"/>

        <TextView
            android:id="@+id/imu1Index"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:background="@drawable/rectangle"
            android:layout_below="@+id/imu1Accel"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="0"/>

        <TextView
            android:id="@+id/imu1BatteryTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1IndexTitle"
            android:layout_toLeftOf="@+id/imu1Battery"
            android:text="Battery:"/>

        <TextView
            android:id="@+id/imu1Battery"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:background="@drawable/rectangle"
            android:layout_below="@+id/imu1Index"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="0%"/>

        <!-- IMU2 Section (Right Side) -->
        <TextView
            android:id="@+id/imu2StatusTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/syncButton"
            android:layout_toLeftOf="@+id/imu2Status"
            android:text="IMU2:"/>

        <TextView
            android:id="@+id/imu2Status"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/syncButton"
            android:layout_marginTop="-3dp"
            android:layout_marginRight="-202dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:text="Disconnected" />

        <TextView
            android:id="@+id/imu2RollTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2StatusTitle"
            android:layout_toLeftOf="@+id/imu2Roll"
            android:text="Roll Angle:"/>

        <TextView
            android:id="@+id/imu2Roll"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2Status"
            android:layout_marginTop="3dp"
            android:layout_marginRight="-200dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:background="@drawable/rectangle"
            android:text="0.0" />

        <TextView
            android:id="@+id/imu2GyroTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2RollTitle"
            android:layout_toLeftOf="@+id/imu2Gyro"
            android:text="Gyro Mag:"/>

        <TextView
            android:id="@+id/imu2Gyro"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2Roll"
            android:layout_marginTop="2dp"
            android:layout_marginRight="-200dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:background="@drawable/rectangle"
            android:text="0.0"/>

        <TextView
            android:id="@+id/imu2AccelTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2GyroTitle"
            android:layout_toLeftOf="@+id/imu2Accel"
            android:text="Lin Accel:"/>

        <TextView
            android:id="@+id/imu2Accel"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2Gyro"
            android:layout_marginTop="2dp"
            android:layout_marginRight="-200dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:background="@drawable/rectangle"
            android:text="0.0"/>

        <TextView
            android:id="@+id/imu2IndexTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2AccelTitle"
            android:layout_toLeftOf="@+id/imu2Index"
            android:text="Index:" />

        <TextView
            android:id="@+id/imu2Index"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2Accel"
            android:layout_marginTop="2dp"
            android:layout_marginRight="-200dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:background="@drawable/rectangle"
            android:text="0" />

        <TextView
            android:id="@+id/imu2BatteryTitle"
            android:layout_width="90dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2IndexTitle"
            android:layout_toLeftOf="@+id/imu2Battery"
            android:text="Battery:" />

        <TextView
            android:id="@+id/imu2Battery"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu2Index"
            android:layout_marginTop="2dp"
            android:layout_marginRight="-200dp"
            android:layout_toLeftOf="@+id/connectionStatusSpace"
            android:background="@drawable/rectangle"
            android:text="0%" />

        <!-- Buttons -->
        <Button
            android:id="@+id/measureButton"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginLeft="20dp"
            android:layout_marginTop="25dp"
            android:backgroundTint="#4DBDDF"
            android:onClick="measureButton_onClick"
            android:text="Measure" />

        <Button
            android:id="@+id/disconnectButton"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="230dp"
            android:layout_marginTop="420dp"
            android:backgroundTint="#FA5C5C"
            android:onClick="disconnectButton_onClick"
            android:text="Disconnect" />

        <Button
            android:id="@+id/uploadButton"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="420dp"
            android:backgroundTint="#4DBDDF"
            android:onClick="uploadButton_onClick"
            android:text="Upload Data" />

        <!-- Log Contents -->


        <Button
            android:id="@+id/dataLogButton"
            android:layout_width="180dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu2Battery"
            android:layout_marginStart="220dp"
            android:layout_marginTop="20dp"
            android:backgroundTint="#4DBDDF"
            android:text="Data Log" />

        <Button
            android:id="@+id/labelButton1"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="110dp"
            android:backgroundTint="#4CAF50"
            android:text="Stand" />

        <Button
            android:id="@+id/labelButton2"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="160dp"
            android:backgroundTint="#4CAF50"
            android:text="Level Walk" />

        <Button
            android:id="@+id/labelButton3"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="210dp"
            android:backgroundTint="#4CAF50"
            android:text="Ramp Ascend" />

        <Button
            android:id="@+id/labelButton4"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="260dp"
            android:backgroundTint="#4CAF50"
            android:text="Ramp Descend" />

        <Button
            android:id="@+id/labelButton5"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="310dp"
            android:backgroundTint="#4CAF50"
            android:text="Stair Ascend" />

        <Button
            android:id="@+id/labelButton6"
            android:layout_width="160dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu1Battery"
            android:layout_marginStart="20dp"
            android:layout_marginTop="360dp"
            android:backgroundTint="#4CAF50"
            android:text="Stair Descend" />

        <Button
            android:id="@+id/stopButton"
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/imu2Battery"
            android:layout_marginStart="230dp"
            android:layout_marginTop="150dp"
            android:backgroundTint="#FA5C5C"
            android:onClick="stopButton_onClick"
            android:text="Stop" />

        <TextView
            android:id="@+id/logContents"
            android:layout_width="2000dp"
            android:layout_height="400dp"
            android:layout_below="@id/connectionStatusSpace"
            android:layout_centerHorizontal="true"
            android:layout_marginTop="300dp"
            android:background="@drawable/rectangle"
            android:backgroundTint="#426987"
            android:textColor="@color/white"
            android:textStyle="bold"
            android:visibility="invisible" />

        <!-- REPLACED SWITCH WITH BUTTON -->
        <Button
            android:id="@+id/logToggleButton"
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:layout_below="@id/measureButton"
            android:layout_marginStart="230dp"
            android:layout_marginTop="25dp"
            android:backgroundTint="#4DBDDF"
            android:text="Show Log" />

        <!-- NEW: Feature Detection Results Section for IMU1 -->
        <TextView
            android:id="@+id/featuresSectionDivider"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_below="@+id/uploadButton"
            android:layout_marginTop="110dp"
            android:layout_marginLeft="10dp"
            android:layout_marginRight="10dp"
            android:text="_________________________________________"
            android:textAlignment="center"
            android:textSize="16sp"/>

        <TextView
            android:id="@+id/featuresSectionTitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/featuresSectionDivider"
            android:layout_centerHorizontal="true"
            android:layout_marginTop="10dp"
            android:text="Feature Detection Results"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="#2196F3"/>

        <!-- Terrain Type - LARGE AND PROMINENT -->
        <TextView
            android:id="@+id/imu1TerrainLabel"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/featuresSectionTitle"
            android:layout_centerHorizontal="true"
            android:layout_marginTop="20dp"
            android:text="TERRAIN TYPE"
            android:textSize="16sp"
            android:textStyle="bold"
            android:textColor="#666666"/>

        <TextView
            android:id="@+id/imu1TerrainType"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1TerrainLabel"
            android:layout_marginLeft="20dp"
            android:layout_marginRight="20dp"
            android:layout_marginTop="10dp"
            android:background="@drawable/rectangle"
            android:padding="20dp"
            android:text="--"
            android:textAlignment="center"
            android:textSize="28sp"
            android:textStyle="bold"
            android:textColor="#FFFFFF"/>

        <!-- Window Number -->
        <TextView
            android:id="@+id/imu1WindowTitle"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1TerrainType"
            android:layout_marginLeft="20dp"
            android:layout_marginTop="35dp"
            android:text="Window #:"
            android:textSize="15sp"/>

        <TextView
            android:id="@+id/imu1WindowNumber"
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1TerrainType"
            android:layout_toRightOf="@+id/imu1WindowTitle"
            android:layout_marginTop="25dp"
            android:layout_marginRight="20dp"
            android:background="@drawable/rectangle"
            android:backgroundTint="#E3F2FD"
            android:padding="8dp"
            android:text="--"
            android:textSize="15sp"/>

        <!-- Bias Value -->

        <TextView
            android:id="@+id/imu1BiasValue"
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1WindowNumber"
            android:layout_toRightOf="@+id/imu1BiasTitle"
            android:layout_marginTop="10dp"
            android:layout_marginRight="20dp"
            android:background="@drawable/rectangle"
            android:backgroundTint="#E3F2FD"
            android:padding="8dp"
            android:text="--"
            android:textSize="15sp"/>

        <!-- Max Height -->

        <TextView
            android:id="@+id/imu1HeightTitle"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1BiasTitle"
            android:layout_marginLeft="20dp"
            android:layout_marginTop="24dp"
            android:text="Max Height:"
            android:textSize="15sp" />

        <TextView
            android:id="@+id/imu1MaxHeight"
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1BiasValue"
            android:layout_toRightOf="@+id/imu1HeightTitle"
            android:layout_marginTop="10dp"
            android:layout_marginRight="20dp"
            android:background="@drawable/rectangle"
            android:backgroundTint="#E3F2FD"
            android:padding="8dp"
            android:text="-- m"
            android:textSize="15sp"/>

        <!-- Max Stride Length -->
        <TextView
            android:id="@+id/imu1StrideTitle"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1HeightTitle"
            android:layout_marginLeft="20dp"
            android:layout_marginTop="25dp"
            android:text="Max Stride Length:"
            android:textSize="15sp"/>

        <TextView
            android:id="@+id/imu1MaxStride"
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imu1MaxHeight"
            android:layout_toRightOf="@+id/imu1StrideTitle"
            android:layout_marginTop="10dp"
            android:layout_marginRight="20dp"
            android:background="@drawable/rectangle"
            android:backgroundTint="#E3F2FD"
            android:padding="8dp"
            android:text="-- m"
            android:textSize="15sp"/>



    </RelativeLayout>
</ScrollView>